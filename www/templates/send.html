  <ion-view class="dark" view-title="{{'send.payment'|translate}}">
  
    <ion-nav-buttons side="left">
      <button ng-click="goHome()" class="button button-icon icon ion-ios-arrow-back base-color"></button>
    </ion-nav-buttons>
    <ion-nav-buttons side="right">
      <button class="button button-icon icon base-color" ng-click="scanQR()"><i class="fa fa-qrcode"></i></button>
    </ion-nav-buttons>
  
    <ion-content class="has-header">
      
      <form novalidate name="sendForm" class="send_form"> <!--ng-show="data.is_btc==false" -->
        <div class="list">
          
          <!-- BTS -->
          <label class="item item-input pmd" ng-disabled="data.is_btc==true" ng-show="data.is_btc==false">
            <span ng-class="{ 'has-error' : transaction.amount.$invalid}" class="input-label pmd">{{'g.amount'|translate}}</span>
            <input numbers-only-key-press required name="transactionAmount" ng-model="transaction.amount" type="number" class="input_amount big pmd"> 
            <i class="pmd icon placeholder-icon">$</i>
            <br/>
          </label>
          
          <div class="recipient_container">
            <label class="item item-input pmd" ng-disabled="data.is_btc==true" ng-show="data.is_btc==false">
              <span class="input-label pmd">{{'send.recipient'|translate}}</span>
              <ion-autocomplete item-view-value-key="name" name="transactionAddress" ng-model="transaction.address" items-method="callbackMethod(query)" items-method2="callbackMethod2(query)" class="big full_width pmd" placeholder_="{{'g.search_recipient'|translate}}" search-query-item-hint="{{'g.your_search'|translate}}" cancel-label="{{'g.cancel'|translate}}" local-label="{{'g.local_items_label'|translate}}" global-label="{{'g.global_items_label'|translate}}"></ion-autocomplete>
            </label>
            <button ng-click="clearAddress()" class="button button-icon icon ion-android-cancel">
            </button>
          </div>
          
          <!-- BTC -->
          <div class="btc_amount_container" ng-show="data.is_btc==true">
            <label class="item item-input pmd" ng-disabled="data.is_btc==false">
              <span class="input-label pmd">{{'g.amount'|translate}}</span>
              <input numbers-only-key-press required name="transactionAmount" ng-model="transaction.amount" type="number" class="input_amount big pmd" ng-class="{'error':sendForm.transactionAmount.$error.number}"> 
              <i class="pmd icon placeholder-icon">BTC</i>
              <br/>
            </label>
            <div class="send_rate">
              <div class="hint left">{{'g.you_pay'|translate}}:</div><div class="hint right base-color padded_r"><strong>55.5</strong> USD</div> <br/>
              <div class="hint left">{{'g.cur_rate'|translate}}:</div><div class="hint right base-color"><strong>251.8</strong> USD/BTC</div>
            </div>
          </div>
          
          <label class="item item-input pmd" ng-disabled="data.is_btc==false" ng-show="data.is_btc==true">
            <span class="input-label pmd">{{'send.recipient'|translate}}</span>
            <input name="transactionAddress" ng-model="transaction.address" class="big full_width pmd" />
          </label>

          
          <!-- BTS & BTC -->
          <label class="item item-input pmd">
            <span class="input-label pmd">{{'g.memo'|translate}}</span>
            <textarea name="" id="" cols="30" rows="10"  name="transactionMemo" ng-model="transaction.memo"
            class="big pmd base-color" ng-class="{'error':sendForm.transactionMemo.$error.number}"></textarea>  
            <br/>
          </label>
          <span class="error input" ng-show="sendForm.transactionAmount.$error.number">{{'err.enter_valid_amount'|translate}}</span>
          <input type="hidden" name="transactionAssetId" ng-model="transaction.asset_id" />
        </div>
      </form>
      <fieldset ng-disabled="data.from_in_progress"> 
        <!--button ng-click="doSend(transaction)" class="button button-block button-assertive no-margin hide-on-keyboard-open button_taller dock_bottom">
          {{'g.send'|translate|uppercase}} 
        </button -->
        <!-- button ng-click="doSend(transaction)" class="button button-block button no-margin hide-on-keyboard-open button_taller dock_bottom button-icon ion-ios-paperplane base-color_bg lime"> 
        </button -->
        <button ng-click="doSend(transaction)" class="button button-block button no-margin hide-on-keyboard-open button_taller dock_bottom bgcolor_white send_form_button"> {{'g.send'|translate|uppercase}} 
        </button>
        <!-- base-color lime_bg -->
      </fieldset> 
    </ion-content>
  </ion-view>

  <script id="sending-modal.html" type="text/ng-template">
    <ion-modal-view>
      <ion-header-bar align-title="middle" class="bar-energized nav-title-slide-ios7">
        <div class="title">{{'send.sending_payment'|translate}}</div>
      </ion-header-bar>
      
      <ion-content class="has-header">
        <div class="row">
          <div class="transaction_steps">
            <h2 style="text-align:center;" class="step_doing positive">
              {{transaction.message|translate}}<i class="ion-loading-a" data-pack="default" data-tags="spinner, waiting, refresh, animation" data-animation="true"></i>
            </h2>
          </div>
        </div>
      </ion-content>
    </ion-modal-view>
  </script>
  