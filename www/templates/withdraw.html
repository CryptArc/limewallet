<ion-view title="{{'menu.withdraw'|translate}}">
    <ion-content class="has-header withdraw" has-bouncing="false" scroll="false" overflow-scroll="false">
        <ion-scroll zooming="false" direction="y" class="register_details margin-bottom-buttonNOT">
          
          <div class="step1">
            <form novalidate name="sendForm" class="deposit_form send_form">
              <div class="list">
                <label class="item item-input pmd item-floating-label">
                  <span class="input-label pmd">{{'g.bitcoin_address'|translate}}</span>
                  <input name="transactionAddress" placeholder="{{'g.bitcoin_address'|translate}}" ng-model="transaction.address" class="big full_width pmd" />
                  <span style="clear:both;float:right;width:100%;" class="quote_error assertive" ng-show="data.address_error!==undefined">{{data.address_error}}</span>
                </label>
                <div class="amount_container">
                  <label class="item item-input pmd input_curr">
                    <input numbers-only-key-press required name="transactionAmount" type="number" class="full_width input_amount big pmd" ng-model="data.input_amount" />
                    <i class="pmd icon placeholder-icon base-color">{{data.input_curr}}</i>
                  </label>
                  <label class="item item-input pmd other_curr">
                    <input disabled type="number" class="full_width input_amount big pmd" ng-model="data.other_amount"/>
                    <i class="pmd icon placeholder-icon">{{data.other_curr}}</i>
                  </label>
                  <button ng-click="toggleInputCurrency()" class="button button-icon icon ion-arrow-swap base-color toggle_curr">
                  </button>
                </div>
                <div ng-show="data.quoting" class="deposit_rate_loading" >
                  <ion-spinner icon="android"></ion-spinner>
                </div>

                <!-- div class="amount_container">
                  <label class="item item-input pmd item-floating-label">
                    <span class="input-label pmd">{{'g.amount'|translate}}</span>
                    <input numbers-only-key-press placeholder="{{'g.amount'|translate}}" required name="transactionAmount" type="number" class="full_width input_amount big pmd" ng-model="data.input_amount" />
                    <i class="pmd icon placeholder-icon">{{data.input_curr}}</i>
                  </label>
                  <button ng-click="toggleInputCurrency()" class="button button-icon icon ion-arrow-swap base-color toggle_curr">
                  </button>
                  <span style="clear:both;float:right;width:100%;" class="quote_error assertive" ng-show="data.quote_error!==undefined">{{data.quote_error}}</span>
                  <br/>
                  <div class="deposit_rate">
                    <div class="hint left" ng-show="data.input_in_btc==true">{{'g.you_pay'|translate}}:</div>
                    <div class="hint right base-color padded_r" ng-show="data.input_in_btc==true"><strong>55.5</strong> USD</div>
                    <div class="hint left" ng-show="data.input_in_btc==false">{{'withdraw.action'|translate}}:</div>
                    <div class="hint right base-color padded_r" ng-show="data.input_in_btc==false"><strong>0.2</strong> BTC</div> <br/>
                    <div class="hint left">{{'g.cur_rate'|translate}}:</div><div class="hint right base-color"><strong>251.8</strong> USD/BTC</div>
                  </div>
                </div -->
              </div>
            </form>
          </div>

          <div class="step1 ng-hide">
            <div class="register_container energized_bg register_color">
              <p ng-bind-html="'withdraw.headline2'|translate"></p>
            </div>
            <div class="list settings quote" id="quote_ttl">
              <div class="row" ng-cloak>
                <div class="item-input-inset bitcoin_address">
                  <label class="item item-input item-floating-label" style="width:300px;">
                    <span class="input-label">{{'withdraw.address'|translate}}</span>
                    <input required name="transactionAddress" ng-model="data.bitcoin_address" type="text" placeholder="{{'withdraw.address'|translate}}" class="big big_placeholder">
                  </label>
                  <button ng-click="pasteBitcoinAddress()" class="button button-outline button-stable button-small icon" style="margin-top:20px;">
                    <i class="fa fa-paste"></i>
                  </button>
                  <div class="line-divider" style="clear:both;"></div>            
                </div>
                <span class="quote_error assertive" ng-show="data.address_error!==undefined">{{data.address_error}}</span>
              </div>
              
              <div class="row" ng-cloak>
                <div class="col col-50">
                  <label class="item item-input item-floating-label">
                    <span class="input-label">{{wallet.asset.symbol}}</span>
                    <input type="number" placeholder="{{wallet.asset.symbol}}" ng-model="data.amount_usd">
                    <i class="icon ion-loading-c" ng-cloak ng-show="data.quoting_usd"></i>
                    <div class="line-divider"></div>            
                  </label>
                  <span class="quote_error assertive" ng-show="data.quoting_btc_error!==undefined">{{data.quoting_btc_error}}</span>
                </div>
                <div class="col col-50">
                  <label class="item item-input item-floating-label">
                    <span class="input-label">BTC</span>
                    <input type="number" placeholder="BTC" ng-model="data.amount_btc">
                    <i class="icon ion-loading-c" ng-cloak ng-show="data.quoting_btc"> </i>
                    <div class="line-divider"></div>   
                  </label>
                  <span class="quote_error assertive" ng-show="data.quoting_usd_error!==undefined">{{data.quoting_usd_error}}</span>
                </div>
              </div>
              <div id="row" class="chart_container">
                <span class="assertive padding" ng-show="data.timer.expired==1">{{'err.quote_expired_requote'|translate|uppercase}}</span>
              </div>
            </div>
          </div>
        </ion-scroll>
        
        <fieldset ng-disabled="data.from_in_progress"> 
          <button ng-click="doWithdraw()" class="button button-block button-energized no-margin hide-on-keyboard-open button_taller" style="position:absolute;bottom:0px;">
            {{'menu.withdraw'|translate|uppercase}}
          </button>
        </fieldset>
    </ion-content>

  </ion-view>
  
  <script id="sending-modal.html" type="text/ng-template">
    <ion-modal-view>
      <ion-header-bar align-title="middle" class="bar-energized nav-title-slide-ios7">
        <div class="title">{{'withdraw.in_progress'|translate}}</div>
      </ion-header-bar>
      
      <ion-content class="has-header">
        <div class="row">
          <div class="transaction_steps">
            <h2 style="text-align:center;" class="step_doing positive">
              {{transaction.message|translate}}<i class="ion-loading-a" data-pack="default" data-tags="spinner, waiting, refresh, animation" data-animation="true"></i>
            </h2>
          </div>
        </div>
      </ion-content>
    </ion-modal-view>
  </script>