<ion-view class="dark" title="{{'menu.deposit'|translate}}">
    <ion-nav-buttons side="left">
      <button ng-click="goHome()" class="button button-icon icon ion-ios-arrow-back base-color"></button>
    </ion-nav-buttons>
    
    <ion-content class="has-header register deposit" has-bouncing="false" scroll="false" overflow-scroll="false">
      <!--ion-scroll zooming="false" direction="y" class="register_details margin-bottom-buttonNOT"-->
        
        <div class="step1" ng-show="data.step==1">
          
          <form novalidate name="sendForm" class="send_form">
            <div class="list">
              <div style="position:relative;display:block;width:100%;height:auto;padding-top:25px;">
                <label style="flex: 1 0;width: 300px!important;float:left;" class="item item-input pmd">
                  <span class="input-label pmd">{{'g.amount'|translate}}</span>
                  <input numbers-only-key-press required name="transactionAmount" type="number" class="full_width input_amount big pmd" style="padding-right:60px;" ng-model="data.input_amount" /> <!-- margin-right: 60px; --> <!-- ng-class="{'error':sendForm.transactionAmount.$error.number}" --> 
                  <i class="pmd icon placeholder-icon" style="margin-right: 0px;">{{data.input_curr}}</i>
                </label>
                <button ng-click="toggleInputCurrency()" class="button button-icon icon ion-arrow-swap base-color" style="top: 15px;right: 0px;">
                <!--  ng-class="{true:'ion-toggle', false:'ion-toggle-filled'}[data.input_toggle==true]" -->
                </button>
                <!--ion-toggle ng-model="data.input_toggle" ng-change="toggleInputCurrency()" toggle-class="base-color"></ion-toggle-->
                <br/>
                <div style="clear:both;padding-left:71px;padding-right: 60px;">
                  <div class="hint left w110">{{'g.you_pay'|translate}}:</div><div class="hint right base-color">55.5 USD</div> <br/>
                  <div class="hint left w110">{{'g.cur_rate'|translate}}:</div><div class="hint right base-color">251.8 USD/BTC</div>
                </div>
              </div>
            </div>
          </form>

          <div class="list settings quote ng-hide">
            <div class="row">
              <div class="col col-50">
                <label class="item item-input item-floating-label">
                  <span class="input-label">{{wallet.asset.symbol}}</span>
                  <input type="number" placeholder="{{wallet.asset.symbol}}" ng-model="data.amount_usd">
                  <i class="icon ion-loading-c" ng-show="data.quoting_usd"></i>
                  <div class="line-divider"></div>            
                </label>
                <span class="quote_error assertive" ng-show="data.quoting_btc_error!==undefined">{{data.quoting_btc_error}}</span>
              </div>
              <div class="col col-50">
                <label class="item item-input item-floating-label">
                  <span class="input-label">BTC</span>
                  <input type="number" placeholder="BTC" ng-model="data.amount_btc">
                  <i class="icon ion-loading-c" ng-show="data.quoting_btc"> </i>
                  <div class="line-divider"></div>   
                </label>
                <span class="quote_error assertive" ng-show="data.quoting_usd_error!==undefined">{{data.quoting_usd_error}}</span>
              </div>
            </div>
          </div>
        </div>
        
        <div class="step2" ng-show="data.step==2">
          <div class="register_container energized_bg register_color">
            <p ng-bind-html="'g.please_send_btc_to'|translate:{amount:(data.tx.cl_pay|number:8), addy:data.tx.cl_pay_addr}">
            </p>
          </div>
          <div class="list settings" id="quote_ttl">
            <div class="item">
              <div class="qr_container">
                <img ng-src="{{data.deposit_qrcode}}" style="width:100%;height:auto;" id="qr_image" imageonload ng-click="copyUri()" />
              </div>
              <span style="font-size:14px;" class="input-label">{{'g.tap_copy_btc_uri'|translate}}</span>
            </div>
          </div>
        </div>
      <!-- /ion-scroll -->
      
      <div style="clear:both;position: absolute;bottom:0px;display:block;width:100%;">
        <fieldset ng-disabled="data.from_in_progress">
          <button ng-click="next()" ng-show="data.step==1" class="button button-block button-energized no-margin hide-on-keyboard-open button_taller dock_bottom">
            {{'g.next'|translate|uppercase}}
          </button>
          
          <div style="height:67px;" class="dock_bottom hide-on-keyboard-open" ng-show="data.step==2">
            <div ng-show="data.timer.expired ==true">
              <button ng-click="alreadyPaid()" class="button button-block button-stable no-margin button_taller" >
                {{'g.already_paid'|translate|uppercase}}
              </button>
            </div>
            <div ng-show="data.timer.expired==false" style="display:block;">
              <a class="button button-block button-energized no-margin button_taller" ng-click="window.open('{{data.deposit_short_uri}}', '_system', 'location=yes');" hrefNOT="{{data.deposit_short_uri}}" target="_system">
                {{'g.pay'|translate|uppercase}}
              </a>
            </div>
          </div>
        </fieldset>
      </div>
      
    </ion-content>

  </ion-view>
  
