<ion-view class="dark" title="{{'menu.deposit'|translate}}">
    <ion-nav-buttons side="left">
      <button ng-click="goHome()" class="button button-icon icon ion-ios-arrow-back"></button>
    </ion-nav-buttons>
    
    <ion-content class="has-header register deposit" has-bouncing="false" scroll="false" overflow-scroll="false">
        <ion-scroll zooming="false" direction="y" class="register_details margin-bottom-buttonNOT">
          <div class="energized_bg register_container" ng-show="data.step==1">
            <h4 class="register_color" ng-bind-html="'g.deposit_title'|translate:{asset:wallet.asset}"></h4>
          </div>
          <div class="step1" ng-show="data.step==1">
            <div class="register_container energized_bg register_color">
              <p ng-bind-html="'g.deposit_paragraph'|translate:{asset:wallet.asset}">
              </p>
            </div>
            <div class="list settings quote" id="quote_ttl">
              <div class="row" ng-cloak>
                <div class="col col-50">
                  <label class="item item-input item-floating-label">
                    <span class="input-label">{{wallet.asset.symbol}}</span>
                    <input type="number" placeholder="{{wallet.asset.symbol}}" ng-model="data.amount_usd">
                    <i class="icon ion-loading-c" ng-cloak ng-show="data.quoting_usd"></i>
                    <div class="line-divider"></div>            
                  </label>
                  <span class="quote_error assertive" ng-show="data.quoting_btc_error!==undefined">{{data.quoting_btc_error}}</span>
                </div>
                <div class="col col-50">
                  <label class="item item-input item-floating-label">
                    <span class="input-label">BTC</span>
                    <input type="number" placeholder="BTC" ng-model="data.amount_btc">
                    <i class="icon ion-loading-c" ng-cloak ng-show="data.quoting_btc"> </i>
                    <div class="line-divider"></div>   
                  </label>
                  <span class="quote_error assertive" ng-show="data.quoting_usd_error!==undefined">{{data.quoting_usd_error}}</span>
                </div>
              </div>
              <div id="row" class="chart_container">
                <span class="assertive padding" ng-show="data.timer.expired==1">{{'err.quote_expired_requote'|translate|uppercase}}</span>
              </div>
            </div>
          </div>
          
          <div class="step2" ng-show="data.step==2">
            <div class="register_container energized_bg register_color">
              <p ng-bind-html="'g.please_send_btc_to'|translate:{amount:(data.tx.cl_pay|number:2), addy:data.tx.cl_pay_addr}">
              </p>
            </div>
            <div class="list settings" id="quote_ttl2">
              <div class="item">
                <div class="qr_container">
                  <img ng-src="{{data.deposit_qrcode}}" style="width:100%;height:auto;" id="qr_image" imageonload ng-click="copyUri()" />
                </div>
                <span style="font-size:14px;" class="input-label">{{'g.tap_copy_btc_uri'|translate}}</span>
              </div>
            </div>
          </div>
        </ion-scroll>
      
        <button ng-click="next()" ng-show="data.step==1" class="button button-block button-energized no-margin hide-on-keyboard-open button_taller dock_bottom">
          {{'g.next'|translate|uppercase}}
        </button>
        
        <div style="height:67px;" class="dock_bottom hide-on-keyboard-open" ng-show="data.step==2">
          <div ng-show="data.timer.expired==true">
            <button ng-click="alreadyPaid()" class="button button-block button-stable no-margin button_taller" >
              {{'g.already_paid'|translate|uppercase}}
            </button>
          </div>
          <div ng-show="data.timer.expired==false" style="display:block;">
            <a class="button button-block button-energized no-margin button_taller" href="{{data.deposit_short_uri}}" target="_system">
              {{'g.pay'|translate|uppercase}}
            </a>
          </div>
        </div>
    </ion-content>

  </ion-view>
  
